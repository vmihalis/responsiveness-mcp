---
phase: 23-documentation-release
plan: 02
type: execute
wave: 2
depends_on: ["23-01"]
files_modified:
  - CHANGELOG.md
  - package.json
  - package-lock.json
autonomous: true

must_haves:
  truths:
    - "CHANGELOG.md exists with v3.0.0 entry at top"
    - "CHANGELOG.md has BREAKING CHANGES section with migration notes"
    - "package.json version is 3.0.0"
    - "Running screenie --version shows 3.0.0 in ASCII banner"
  artifacts:
    - path: "CHANGELOG.md"
      provides: "Version history with breaking change documentation"
      contains: "## [3.0.0]"
    - path: "package.json"
      provides: "Updated version number"
      contains: "\"version\": \"3.0.0\""
  key_links:
    - from: "package.json"
      to: "dist/cli.js"
      via: "tsup build injects __PKG_VERSION__"
      pattern: "version.*3\\.0\\.0"
---

<objective>
Create CHANGELOG.md with v3.0.0 breaking change documentation and bump version to 3.0.0.

Purpose: Users need clear changelog entry documenting the breaking change with migration instructions, and npm package must show version 3.0.0.
Output: New CHANGELOG.md file, updated package.json and package-lock.json with version 3.0.0
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-documentation-release/23-RESEARCH.md
@.planning/phases/23-documentation-release/23-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CHANGELOG.md</name>
  <files>CHANGELOG.md</files>
  <action>
Create CHANGELOG.md in project root following Keep a Changelog 1.0.0 format:

```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [3.0.0] - 2026-01-22

### BREAKING CHANGES

- **Default capture mode changed from full-page to viewport-only**

  Screenshots now capture only the visible viewport by default instead of the entire page. This provides faster captures, smaller file sizes, and better represents what users actually see when visiting a page.

  **Migration:** If you need full-page screenshots (previous behavior), add the `--full-page` flag to your commands:

  ```bash
  # v2.x behavior (full-page by default)
  screenie https://example.com

  # v3.0 equivalent (opt-in to full-page)
  screenie https://example.com --full-page
  ```

### Added

- New `--full-page` CLI flag to opt-in to full-page capture

### Removed

- Fold line indicators from HTML report (redundant with viewport-only capture)

### Changed

- Default capture mode is now viewport-only (was full-page in v2.x)
- HTML report lightbox displays images directly without wrapper element

## [2.3.0] - 2026-01-21

### Added

- ASCII art banner with version display on `--version` flag
- Terminal width detection for responsive banner sizing

## [2.2.0] - 2026-01-21

### Added

- Multi-page capture support with `--pages` flag
- Parallel page processing for faster multi-page captures

## [2.1.0] - 2026-01-21

### Added

- Device filtering with `--phones-only`, `--tablets-only`, `--desktops-only` flags
- Custom output directory with `-o, --output` flag
- Wait buffer option with `-w, --wait` flag
- Concurrency control with `-c, --concurrency` flag
- Auto-open suppression with `--no-open` flag

## [2.0.0] - 2026-01-21

### Added

- HTML report generation with visual grid of all captures
- Lightbox view for full-size screenshot inspection
- Cookie banner auto-hiding (50+ common selectors)
- 57 device viewport presets (phones, tablets, desktops)

### Changed

- Complete rewrite from MCP server to standalone CLI tool

## [1.0.0] - 2026-01-20

### Added

- Initial release as MCP server for responsive screenshot capture
- Basic screenshot capture functionality
- Playwright-based browser automation

[Unreleased]: https://github.com/vmihalis/screenie/compare/v3.0.0...HEAD
[3.0.0]: https://github.com/vmihalis/screenie/compare/v2.3.0...v3.0.0
[2.3.0]: https://github.com/vmihalis/screenie/compare/v2.2.0...v2.3.0
[2.2.0]: https://github.com/vmihalis/screenie/compare/v2.1.0...v2.2.0
[2.1.0]: https://github.com/vmihalis/screenie/compare/v2.0.0...v2.1.0
[2.0.0]: https://github.com/vmihalis/screenie/compare/v1.0.0...v2.0.0
[1.0.0]: https://github.com/vmihalis/screenie/releases/tag/v1.0.0
```

Key formatting requirements:
- BREAKING CHANGES section with warning (no emoji - user didn't request)
- Clear before/after code examples
- Migration instructions explicitly stating "add --full-page"
- All version sections in descending order (newest first)
- Link references at bottom for GitHub comparison URLs
  </action>
  <verify>cat CHANGELOG.md | head -50 shows Keep a Changelog header, [3.0.0] section, and BREAKING CHANGES</verify>
  <done>CHANGELOG.md exists with v3.0.0 entry containing breaking change documentation and migration notes</done>
</task>

<task type="auto">
  <name>Task 2: Bump version to 3.0.0</name>
  <files>package.json, package-lock.json</files>
  <action>
Use npm version command to bump to 3.0.0:

1. First, stage and commit all documentation changes from Plan 01:
   ```bash
   git add docs/ README.md CHANGELOG.md
   git commit -m "docs: update documentation for v3.0.0 breaking change

   - Add --full-page flag to CLI reference
   - Update README with viewport-only default
   - Add full-page examples to docs
   - Create CHANGELOG.md with breaking change notes"
   ```

2. Run npm version to bump major version:
   ```bash
   npm version major --no-git-tag-version
   ```

   Note: Using --no-git-tag-version because we want to control the commit message format.

3. Verify package.json shows version 3.0.0:
   ```bash
   grep '"version"' package.json
   ```

4. Build to verify tsup injects new version:
   ```bash
   npm run build
   ```

5. Test version display:
   ```bash
   node dist/cli.js --version
   ```
   Should show ASCII banner with "v3.0.0"

6. Commit version bump:
   ```bash
   git add package.json package-lock.json
   git commit -m "chore: bump version to 3.0.0

   BREAKING CHANGE: Default capture mode changed from full-page to viewport-only.
   Use --full-page flag to restore previous behavior."
   ```

DO NOT run `npm publish` - that's a separate user decision.
DO NOT create git tags - user will do this when ready to release.
  </action>
  <verify>grep '"version": "3.0.0"' package.json returns match; node dist/cli.js --version displays 3.0.0 in banner</verify>
  <done>package.json version is 3.0.0, build succeeds, screenie --version shows 3.0.0</done>
</task>

</tasks>

<verification>
1. CHANGELOG.md exists and contains:
   - Keep a Changelog format header
   - [3.0.0] section with today's date
   - BREAKING CHANGES section with migration code examples
   - Added, Removed, Changed sections

2. Version verification:
   - grep '"version": "3.0.0"' package.json
   - npm run build succeeds
   - node dist/cli.js --version shows "v3.0.0" in ASCII banner

3. Git state is clean (all changes committed)
</verification>

<success_criteria>
- DOC-04: CHANGELOG clearly marks v3.0.0 as breaking change with migration notes
- VER-01: package.json version is "3.0.0"
- VER-02: Running screenie --version shows "3.0.0" in ASCII banner (automatic via tsup injection)
- All v3.0 requirements complete
</success_criteria>

<output>
After completion, create `.planning/phases/23-documentation-release/23-02-SUMMARY.md`
</output>
